paths:
    /api/carts/:
      get:
        summary: Get all carts
        tags:
          - Carts
        responses:
          "200":
            description: You got all the carts correctly
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#components/schemas/Cart'
          "500":
            description: Server error, you did not get all the carts correctly
      post:
        summary: Create a new cart
        tags:
          - Carts
        responses:
          "200":
            description: You create a cart correctly
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#components/schemas/Cart'
          "500":
            description: Server error, you didn´t create a new cart
    /api/carts/{cid}:
      get:
        summary: Get the cart by id
        tags:
          - Carts
        parameters:
        - name: cid
          in: path
          required: true
          description: id of cart to find
          schema:
            $type: String
        responses:
          "200":
            description: You get the cart correctly
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#components/schemas/Cart'
          "500":
            description: Server error, you didn´t find the cart
      delete:
        summary: Delete de cart by id
        tags:
          - Carts
        parameters:
        - name: cid
          in: path
          required: true
          description: id of cart to delete
          schema:
            $type: String
        responses:
          "200":
            description: You delete de cart correctly
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#components/schemas/Cart'
          "500":
            description: Server error, you didn´t delete the cart
    /api/carts/{cid}/purchase:
      post:
        summary: Purchase
        tags:
          - Carts
        parameters:
        - name: cid
          in: path
          required: true
          description: id of cart to realize purchase
          schema:
            $type: String
        responses:
          "200":
            description: You get the buy correctly
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#components/schemas/Cart'
          "500":
            description: Server error, you didn´t realize purchase
    /api/carts/{cid}/product/{pid}:
      post:
        summary: Add product to cart
        tags:
          - Carts
        parameters:
        - name: cid
          in: path
          required: true
          description: id of cart to add product
          schema:
            $type: String
        - name: pid
          in: path
          required: true
          description: id of product to add
          schema:
            $type: String
        responses:
          "200":
            description: You add the product correctly
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#components/schemas/Cart'
          "500":
            description: Server error, you didn´t add a product
      delete:
        summary: Delete product to cart
        tags:
          - Carts
        parameters:
        - name: cid
          in: path
          required: true
          description: id of cart 
          schema:
            $type: String
        - name: pid
          in: path
          required: true
          description: id of product
          schema:
            $type: String
        responses:
          "200":
            description: You delete the product correctly
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#components/schemas/Cart'
          "500":
            description: Server error, you didn´t delete a product
components:
  schemas:
    Cart:
      type: object
      properties:
        _id:
          type: ObjectId
          description: mongo autogenerated id
        products:
          type: Array
          description: array with the id of the product and its respective quantity to buy
      example:
        _id: ObjectId("655d3c1817276038ecb5881c")
        products: [
          {
          productID: ObjectId("aa2dzad2"),
          quantity: 2
          }
        ]